const grid=document.querySelector(".grid"),startButton=document.getElementById("start"),scoreDisplay=document.getElementById("score");let cuadrados=[],serpiente=[2,1,0],direction=1;const width=10;let appleIndex=0,score=0,intervalodeTiempo=1e3,velocidad=.9,timerId=0;function createGrid(){for(let e=0;e<100;e++){const e=document.createElement("div");e.classList.add("square"),grid.appendChild(e),cuadrados.push(e)}}function starGame(){serpiente.forEach(e=>cuadrados[e].classList.remove("snake")),cuadrados[appleIndex].classList.remove("apple"),clearInterval(timerId),score=0,scoreDisplay.textContent=score,serpiente=[2,1,0],direction=1,generateApple(),intervalodeTiempo=1e3,serpiente.forEach(e=>cuadrados[e].classList.add("snake")),timerId=setInterval(move,intervalodeTiempo)}function move(){if(serpiente[0]%10==0&&-1===direction||serpiente[0]%10==9&&1===direction||serpiente[0]-10<0&&-10===direction||serpiente[0]+10>=100&&10===direction||cuadrados[serpiente[0]+direction].classList.contains("snake"))return clearInterval(timerId);const e=serpiente.pop();cuadrados[e].classList.remove("snake"),serpiente.unshift(serpiente[0]+direction),cuadrados[serpiente[0]].classList.contains("apple")&&(cuadrados[serpiente[0]].classList.remove("apple"),cuadrados[e].classList.add("snake"),serpiente.push(e),generateApple(),score++,scoreDisplay.textContent=score,clearInterval(timerId),intervalodeTiempo*=velocidad,timerId=setInterval(move,intervalodeTiempo)),cuadrados[serpiente[0]].classList.add("snake")}function generateApple(){do{appleIndex=Math.floor(Math.random()*cuadrados.length)}while(cuadrados[appleIndex].classList.contains("snake"));cuadrados[appleIndex].classList.add("apple")}function controldeDireccion(e){"ArrowRight"===e.key?direction=1:"ArrowUp"===e.key?direction=-10:"ArrowLeft"===e.key?direction=-1:"ArrowDown"===e.key&&(direction=10)}createGrid(),serpiente.forEach(e=>cuadrados[e].classList.add("snake")),generateApple(),document.addEventListener("keyup",controldeDireccion),startButton.addEventListener("click",starGame);